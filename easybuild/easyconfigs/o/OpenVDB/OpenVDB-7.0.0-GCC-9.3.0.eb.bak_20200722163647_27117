easyblock = 'CMakeMake'

name = 'OpenVDB'
version = '7.0.0'

homepage = 'https://github.com/AcademySoftwareFoundation/openvdb'
description = """OpenVDB is an open source C++ library comprising a novel hierarchical data structure and a large 
suite of tools for the efficient storage and manipulation of sparse volumetric data discretized on 
three-dimensional grids. It was developed by DreamWorks Animation for use in volumetric applications typically 
encountered in feature film production."""

toolchain = {'name': 'GCC', 'version': '9.3.0'}

source_urls = ['https://github.com/AcademySoftwareFoundation/openvdb/archive']
sources = ['v%(version)s.tar.gz']
checksums = ['b75caabd5e0211e8c29dd9bd04a74c9ed30a1a72413c486206144c25fd31afff']

builddependencies = [
    ('CMake', '3.16.3'),
#    ('ispc', '1.13.0'),
#    ('tbb', '2020.2'),
#    ('GLFW', '3.3.2'),
#    ('Embree', '3.11.0'),
    ('Boost', '1.72.0'),
#    ('rkcommon', '1.4.2'),
]

separate_build_dir = True

sanity_check_paths = {
    'files': ['lib64/libembree3.so'],
    'dirs': ['include/embree3', 'bin/embree3'],
}
modextrapaths = {'PATH': 'bin/embree3'}
moduleclass = 'tools'
